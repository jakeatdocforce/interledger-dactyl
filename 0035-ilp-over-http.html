<!DOCTYPE html>
<html lang="en">
<head>
    <!-- <base href="https://interledger.org/"> -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="The protocol for connecting blockchains and other ledgers">

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles -->
    <link href="assets/css/custom.css" rel="stylesheet">

    <!-- Google fonts -->
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,200,600,700|Droid+Sans+Mono|Titillium+Web:400,300,600' rel='stylesheet' type='text/css'>

    <link href="assets/favicon.png" rel="icon" type="image/x-icon">

    <!--  highlight js -->
    <link rel="stylesheet" href="assets/css/monokai-sublime.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    




</head>

<body class="xrp-ledger-dev-portal sidebar-primary ">

<!-- navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/"><img class="logo" alt="interledger" src="assets/img/ilp_icon.png"/> <span> Interledger</span></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li ><a href="overview.html">Docs</a></li>
                <li ><a href="libraries.html">Tools</a></li>
                <li ><a href="community.html">Community</a></li>
                <li><a target="_blank" href="https://github.com/interledger">Edit on Github</a></li>
                <li><a href="docs/tutorials/getting-started.html">Get Started</a></li>


                <!-- <li   class="active"><a href="about.html">About</a></li>
                <li   class="active"><a href="https://forum.interledger.org">Forum</a></li> -->
                
                
                <!-- <li  class="active"><a href="news.html">News</a></li> -->
                <!-- <li><a target="_blank" href="https://communityinviter.com/apps/interledger/interledger-working-groups-slack">Slack</a></li> -->
            </ul>
            <!-- <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><svg aria-hidden="true" class="github-mark" height="22" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>Github <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a target="_blank" href="https://github.com/interledger">Specs and Website</a></li>
                        <li><a target="_blank" href="https://github.com/interledgerjs">InterledgerJS Javascript Reference Implementations</a></li>
                        <li><a target="_blank" href="https://github.com/hyperledger/quilt">Hyperledger Quilt Java Implementations</a></li>
                    </ul>
                </li>
            </ul> -->
        </div>
    </div>
</nav>
    <div class="container-fluid" role="document" id="main_content_wrapper">
        <div class="row">
    
        <aside class="sidebar col-md-5 col-lg-3 p-0 order-md-1" role="complementary">

    <div id="sidebarContent">
      <ul class="nav nav-sidebar">
        <li class="nav-label">Quick Start</li>
        <li ><a href="overview.html">Overview</a></li>
        <li><a href="getting-started.html">Getting Started</a></li>
      </ul>
      <ul class="nav nav-sidebar">
        <li class="nav-label">Community Resources</li>
        <li><a href="https://medium.com/interledger-blog">Blog &amp; Tutorials</a></li>
        <li><a href="libraries.html">Libraries &amp; Tools</a></li>
        <li><a href="summit-2019.html">ILP Summit 2019 Videos</a></li>
      </ul>
      <ul class="nav nav-sidebar">
        <li class="nav-label">Specs</li>
        <!--    <li><a href="rfcs/0001-interledger-architecture/">Interledger Architecture</a></li> -->
        <li><a href="0027-interledger-protocol-4.html">Interledger Protocol 4 (ILPv4)</a></li>
        <li><a href="0015-ilp-addresses.html">Interledger Addresses</a></li>
        <li><a href="0029-stream.html">STREAM Protocol</a></li>
        <li><a href="0009-simple-payment-setup-protocol.html">Simple Payment Setup Protocol (SPSP)</a></li>
        <li><a href="0026-payment-pointers.html">Payment Pointers</a></li>
        <li><a href="0028-web-monetization.html">Web Monetization</a></li>
        <li><a href="0030-notes-on-oer-encoding.html">Notes on OER encoding</a></li>
        <li><a href="0031-dynamic-configuration-protocol.html">Dynamic Configuration Protocol (ILDCP)</a></li>
        <li><a href="0032-peering-clearing-settlement.html">Peering, Clearing and Settlement</a></li>
        <li><a href="0035-ilp-over-http.html">ILP over HTTP</a></li>
        <li><a href="0036-spsp-pull-payments.html">SPSP Pull Payments</a></li>
        <li><a target="_blank" href="https://w3c.github.io/webpayments/proposals/interledger-payment-method.html">W3C Web Payments Interledger Payment Method</a></li>
      </ul>
    </div>
          </aside>


          <!-- main column -->
        <main class="main col-md-7 col-lg-6 order-md-3  " role="main" id="main_content_body">
  <article class="pt-3 p-md-3">
    <div class="content">
        <hr/>
<p>title: ILP Over HTTP
draft: 2</p>
<hr/>
<h1 id="ilp-over-http">ILP Over HTTP</h1>
<blockquote>
<p>A bilateral communication protocol for server-to-server connections</p>
</blockquote>
<h2 id="motivation">Motivation</h2>
<p>Scaling Interledger infrastructure to handle large volumes of ILP packets requires horizontally scaling connectors. Using HTTP for bilateral communication enables service providers to leverage standard tools and services for hosting, load balancing, Distributed Denial of Service (DDoS) protection, and monitoring.</p>
<h2 id="overview">Overview</h2>
<p>In an ILP Over HTTP connection, both peers run HTTP servers with accessible HTTPS endpoints. When peering, the peers exchange their respective URLs, authentication tokens or TLS certificates, ILP addresses, and settlement-related details.</p>
<p>Each ILP Prepare packet is sent as the body of an HTTP request to the peer's server endpoint. ILP Fulfill or Reject packets are returned as the body of the HTTP response.</p>
<h2 id="specification">Specification</h2>
<p>This is a minimal protocol built on HTTP. HTTP/2 is HIGHLY RECOMMENDED for performance reasons, although HTTP/1.1 MAY also be used. Implementations SHOULD support HTTP version negotiation via Application Protocol Negotiation (ALPN).</p>
<h3 id="authentication">Authentication</h3>
<p>Peers MAY use any standard HTTP authentication mechanism to authenticate incoming requests. TLS Client Certificates are RECOMMENDED between peers for security and performance, though bearer tokens such as JSON Web Tokens (JWTs) or Macaroons MAY be used instead. Basic authentication (username and password) is NOT RECOMMENDED, because of the additional delay introduced by securely hashing the password.</p>
<h3 id="request">Request</h3>
<pre><code class="http">POST /ilp HTTP/x.x
Host: example.com
Accept: application/octet-stream
Content-Type: application/octet-stream
Authorization: Bearer zxcljvoizuu09wqqpowipoalksdflksjdgxclvkjl0s909asdf

&lt; Body: Binary OER-Encoded ILP Prepare Packet &gt;
</code></pre>
<p><strong>Field Details:</strong></p>
<ul>
<li><strong>Path</strong> - A connector MAY specify any HTTP path for their peer to send ILP packets to.</li>
<li><strong>Host Header</strong> - The standard <a href="https://tools.ietf.org/html/rfc2616#section-14.23">HTTP Host Header</a> indicating the domain of the HTTP server the Request is sent to.</li>
<li><strong>Content-Type / Accept Headers</strong> - MUST be set to <code>application/octet-stream</code>.</li>
<li><strong>Body</strong> - ILP Packet encoded using OER, as specified in <a href="./0027-interledger-protocol-4/0027-interledger-protocol-4.md">RFC 27: Interledger Protocol V4</a>.</li>
</ul>
<h3 id="response">Response</h3>
<pre><code class="http">HTTP/x.x 200 OK
Content-Type: application/octet-stream

&lt; Body: Binary OER-Encoded ILP Fulfill or Reject Packet &gt;
</code></pre>
<p>All ILP Packets MUST be returned with the HTTP status code <code>200: OK</code>.</p>
<p>An endpoint MAY return standard HTTP errors, including but not limited to: a malformed or unauthenticated request, rate limiting, or an unresponsive upstream service. Connectors SHOULD either retry the request, if applicable, or relay an ILP Reject packet back to the original sender with an appropriate <a href="./0027-interledger-protocol-4/0027-interledger-protocol-4#error-codes">Final or Temporary error code</a>. Server errors (status codes 500-599) SHOULD be translated into ILP Reject packets with <code>T00: Temporary Error</code> codes.</p>
    </div>
  </article>
        </main>

          
        <aside class="right-sidebar col-lg-3 order-lg-4 p-0" role="complementary">
  <div class="card" id="page-toc-wrapper">
    <div class="card-header">
      <h4>On This Page</h4>
    </div>
    <ul class="card-body">
      <li class="level-1"><a href="#ilp-over-http">ILP Over HTTP</a></li>
<li class="level-2"><a href="#motivation">Motivation</a></li>
<li class="level-2"><a href="#overview">Overview</a></li>
<li class="level-2"><a href="#specification">Specification</a></li>
<li class="level-3"><a href="#authentication">Authentication</a></li>
<li class="level-3"><a href="#request">Request</a></li>
<li class="level-3"><a href="#response">Response</a></li>

    </ul>
  </div>
        </aside>


        </div><!--/.row (main layout)-->
      </div>
  

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="col-sm-8 col-xs-12">
                  <p>Invented at <a href="https://ripple.com">Ripple</a>, developed by the <a href="https://www.w3.org/community/interledger/participants">Interledger W3C Community Group</a>.</p>
                </div>
                <div class="col-sm-4 col-xs-12">
                    <p class="pull-right">Documentation licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0.</a></p>
                </div>
            </div>
        </div>
    </div>
</footer>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/custom.js"></script>
<script src="assets/js/highlight.pack.js"></script>
<script src="assets/js/home.js"></script>
<script type="text/javascript" src="assets/js/svg-animation.js"></script>

<!-- <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68500608-1', 'auto');
    ga('send', 'pageview');

</script> -->

</body>
</html>